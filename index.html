<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Model Analysis Dashboard</title>
    <link rel="stylesheet" href="static/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <style>
        /* iFrame wrapper for agent to contain styles and avoid bleed-through */
        .agent-iframe-container {
            width: 100%;
            min-height: 70vh;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            overflow: hidden;
            background: #f7f7f7;
        }

        .agent-iframe-container iframe {
            width: 100%;
            min-height: 70vh;
            height: 100%;
            border: none;
            background: #f7f7f7;
        }
    </style>
</head>

<body>
    <div class="container">
        <header class="header">
            <div class="header-main">
                <h1>AI Model Analysis Dashboard</h1>
                <p>Powered by Artificial Analysis, OpenRouter, Fal, and Replicate APIs</p>
                <div class="global-search global-search-centered">
                    <input id="global-search-input" type="text" autocomplete="off" placeholder="Search across all tabsâ€¦">
                    <div id="global-search-results" class="global-search-results" style="display:none;"></div>
                </div>
                <div class="source-legend" id="source-legend">
                    <span class="legend-title">Source colors</span>
                    <span class="legend-item" data-source="aa-llm"><span class="legend-dot"></span>Artificial Analysis
                        (LLMs)</span>
                    <span class="legend-item" data-source="aa-media"><span class="legend-dot"></span>Artificial Analysis
                        (Media)</span>
                    <span class="legend-item" data-source="fal"><span class="legend-dot"></span>fal.ai</span>
                    <span class="legend-item" data-source="replicate"><span class="legend-dot"></span>Replicate</span>
                    <span class="legend-item" data-source="openrouter"><span class="legend-dot"></span>OpenRouter</span>
                    <span class="legend-item" data-source="hype"><span class="legend-dot"></span>Hype Signals</span>
                    <span class="legend-item" data-source="monitor"><span class="legend-dot"></span>Monitor Feed</span>
                    <span class="legend-item" data-source="blog"><span class="legend-dot"></span>Blog</span>
                    <span class="legend-item" data-source="testingcatalog"><span class="legend-dot"></span>Testing
                        Catalog</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ Dark Mode</button>
                <button class="auth-button" id="auth-button">Log In</button>
            </div>
        </header>

        <nav class="navigation">
            <button class="nav-btn active" data-section="llms">LLMs</button>
            <button class="nav-btn" data-section="text-to-image">Text-to-Image</button>
            <button class="nav-btn" data-section="image-editing">Image Editing</button>
            <button class="nav-btn" data-section="text-to-speech">Text-to-Speech</button>
            <button class="nav-btn" data-section="text-to-video">Text-to-Video</button>
            <button class="nav-btn" data-section="image-to-video">Image-to-Video</button>
            <button class="nav-btn" data-section="fal-models">Fal.ai</button>
            <button class="nav-btn" data-section="replicate-models">Replicate</button>
            <button class="nav-btn" data-section="openrouter-models">OpenRouter</button>
            <button class="nav-btn" data-section="hype">Hype</button>
            <button class="nav-btn" data-section="pinned">Pinned</button>
            <button class="nav-btn" data-section="latest">Latest</button>
            <button class="nav-btn" data-section="blog">Blog</button>
            <button class="nav-btn" data-section="testing-catalog">Testing Catalog</button>
            <button class="nav-btn" data-section="agent-exp">Agent</button>
            <button class="nav-btn" data-section="about">About</button>
        </nav>

        <main class="main-content">
            <!-- LLMs Section -->
            <section id="llms" class="content-section active">
                <div class="section-header">
                    <h2>Large Language Models</h2>
                    <div class="controls">
                        <input type="text" id="llm-search" autocomplete="off" placeholder="Search models..."
                            oninput="filterLLMData()">
                        <select id="llm-sort" onchange="filterLLMData()">
                            <option value="intelligence">Intelligence Index</option>
                            <option value="speed">Output Speed</option>
                            <option value="cost">Cost (Cheapest)</option>
                            <option value="name">Name (A-Z)</option>
                        </select>
                        <button class="refresh-btn" onclick="loadLLMData()">Refresh Data</button>
                    </div>
                </div>
                <div class="loading" id="llms-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="llms-error" style="display: none;"></div>
                <div class="results-info" id="llms-results-info"></div>
                <div class="data-container" id="llms-data"></div>
            </section>

            <!-- Pinned Section -->
            <section id="pinned" class="content-section">
                <div class="section-header">
                    <h2>Pinned</h2>
                    <div class="controls">
                        <button class="refresh-btn" id="pinned-refresh">Refresh Pins</button>
                    </div>
                </div>
                <p class="section-note">Quick access to cards youâ€™ve pinned across the dashboard.</p>
                <div class="empty-state" id="pinned-empty">You havenâ€™t pinned any cards yet.</div>
                <div class="data-container" id="pinned-data"></div>
            </section>

            <!-- Latest Section -->
            <section id="latest" class="content-section">
                <div class="section-header">
                    <h2>Latest 24h Activity</h2>
                    <div class="controls">
                        <button class="refresh-btn" id="latest-refresh">Refresh Feed</button>
                    </div>
                </div>
                <p class="section-note">Experimental aggregation of Blog, Hype, OpenRouter, Replicate, and fal.ai
                    updates from the last 24 hours.</p>
                <div class="loading" id="latest-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="latest-error" style="display: none;"></div>
                <div class="results-info" id="latest-results-info" style="display:none;"></div>
                <div class="data-container" id="latest-data"></div>
            </section>

            <!-- Blog Section -->
            <section id="blog" class="content-section">
                <div class="section-header">
                    <h2>Latest Blog Posts</h2>
                    <div class="controls">
                        <select id="blog-sort" aria-label="Sort blog posts">
                            <option value="newest" selected>Newest</option>
                            <option value="oldest">Oldest</option>
                        </select>
                        <button class="refresh-btn" id="blog-refresh">Refresh Posts</button>
                    </div>
                </div>
                <p class="section-note">Experimental feed direct from adam.holter.com.</p>
                <div class="loading" id="blog-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="blog-error" style="display: none;"></div>
                <div class="results-info" id="blog-results-info" style="display:none;"></div>
                <div class="data-container" id="blog-data"></div>
            </section>

            <!-- Text-to-Image Section -->
            <section id="text-to-image" class="content-section">
                <div class="section-header">
                    <h2>Text-to-Image Models</h2>
                    <div class="controls">
                        <input type="text" id="text-to-image-search" autocomplete="off" placeholder="Search models..."
                            oninput="filterTextToImageData()">
                        <select id="text-to-image-sort" onchange="filterTextToImageData()">
                            <option value="elo">Overall ELO</option>
                            <option value="avg-style">Average Style ELO</option>
                            <option value="best-style">Best Style Performance</option>
                            <option value="diversity">Style Diversity</option>
                            <option value="confidence">Confidence Interval (Tightest)</option>
                            <option value="name">Name (A-Z)</option>
                        </select>
                        <button class="refresh-btn" onclick="loadTextToImageData()">Refresh Data</button>
                    </div>
                </div>
                <div class="loading" id="text-to-image-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="text-to-image-error" style="display: none;"></div>
                <div class="results-info" id="text-to-image-results-info"></div>
                <div class="data-container" id="text-to-image-data"></div>
            </section>

            <!-- Image Editing Section -->
            <section id="image-editing" class="content-section">
                <div class="section-header">
                    <h2>Image Editing Models</h2>
                    <button class="refresh-btn" onclick="loadImageEditingData()">Refresh Data</button>
                </div>
                <div class="loading" id="image-editing-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="image-editing-error" style="display: none;"></div>
                <div class="data-container" id="image-editing-data"></div>
            </section>

            <!-- Text-to-Speech Section -->
            <section id="text-to-speech" class="content-section">
                <div class="section-header">
                    <h2>Text-to-Speech Models</h2>
                    <button class="refresh-btn" onclick="loadTextToSpeechData()">Refresh Data</button>
                </div>
                <div class="loading" id="text-to-speech-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="text-to-speech-error" style="display: none;"></div>
                <div class="data-container" id="text-to-speech-data"></div>
            </section>

            <!-- Text-to-Video Section -->
            <section id="text-to-video" class="content-section">
                <div class="section-header">
                    <h2>Text-to-Video Models</h2>
                    <button class="refresh-btn" onclick="loadTextToVideoData()">Refresh Data</button>
                </div>
                <div class="loading" id="text-to-video-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="text-to-video-error" style="display: none;"></div>
                <div class="data-container" id="text-to-video-data"></div>
            </section>

            <!-- Image-to-Video Section -->
            <section id="image-to-video" class="content-section">
                <div class="section-header">
                    <h2>Image-to-Video Models</h2>
                    <button class="refresh-btn" onclick="loadImageToVideoData()">Refresh Data</button>
                </div>
                <div class="loading" id="image-to-video-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="image-to-video-error" style="display: none;"></div>
                <div class="data-container" id="image-to-video-data"></div>
            </section>

            <!-- Fal.ai Models Section -->
            <section id="fal-models" class="content-section">
                <div class="section-header">
                    <h2>Fal.ai Media Generation Models</h2>
                    <div class="controls">
                        <input type="text" id="fal-models-search" autocomplete="off" placeholder="Search models..."
                            oninput="filterFalModelsData()">
                        <select id="fal-models-sort" onchange="filterFalModelsData()">
                            <option value="date">Release Date (Newest)</option>
                            <option value="category">Category</option>
                            <option value="name">Name (A-Z)</option>
                        </select>
                        <select id="fal-models-category" onchange="filterFalModelsData()">
                            <option value="">All Categories</option>
                            <option value="text-to-image">Text-to-Image</option>
                            <option value="image-to-image">Image-to-Image</option>
                            <option value="text-to-video">Text-to-Video</option>
                            <option value="image-to-video">Image-to-Video</option>
                            <option value="video-to-video">Video-to-Video</option>
                            <option value="text-to-speech">Text-to-Speech</option>
                            <option value="image-to-3d">Image-to-3D</option>
                            <option value="vision">Vision</option>
                            <option value="llm">LLM</option>
                        </select>
                        <button class="refresh-btn" onclick="loadFalModelsData()">Refresh Data</button>
                    </div>
                </div>
                <div class="loading" id="fal-models-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="fal-models-error" style="display: none;"></div>
                <div class="results-info" id="fal-models-results-info"></div>
                <div class="data-container" id="fal-models-data"></div>
            </section>

            <!-- Replicate Models Section -->
            <section id="replicate-models" class="content-section">
                <div class="section-header">
                    <h2>Replicate Models</h2>
                    <div class="controls">
                        <input type="text" id="replicate-models-search" autocomplete="off"
                            placeholder="Search models..." oninput="filterReplicateModelsData()">
                        <select id="replicate-models-sort" onchange="filterReplicateModelsData()">
                            <option value="date">Newest</option>
                            <option value="popularity">Popularity</option>
                            <option value="latency-asc">Latency (Fastest)</option>
                            <option value="latency-desc">Latency (Slowest)</option>
                            <option value="name">Name</option>
                            <option value="category">Category</option>
                        </select>
                        <select id="replicate-models-category" onchange="filterReplicateModelsData()">
                            <option value="">All Categories</option>
                            <option value="image-generation">Image Generation</option>
                            <option value="video-generation">Video Generation</option>
                            <option value="audio-generation">Audio Generation</option>
                            <option value="image-enhancement">Image Enhancement</option>
                            <option value="text-generation">Text Generation</option>
                            <option value="other">Other</option>
                        </select>
                        <button class="refresh-btn" onclick="location.reload()">Refresh Data</button>
                    </div>
                </div>

                <div id="replicate-models-results-info" class="results-info"></div>

                <div id="replicate-models-loading" class="loading">
                    <div class="loading-spinner"></div>
                </div>
                <div id="replicate-models-error" class="error" style="display: none;"></div>
                <div id="replicate-models-data" class="data-container"></div>
            </section>

            <!-- OpenRouter Models Section -->
            <section id="openrouter-models" class="content-section">
                <div class="section-header">
                    <h2>OpenRouter Models</h2>
                    <div class="controls">
                        <input type="text" id="openrouter-search" autocomplete="off" placeholder="Search models...">
                        <select id="openrouter-sort">
                            <option value="newest">Newest</option>
                            <option value="name">Name (A-Z)</option>
                            <option value="vendor">Provider</option>
                            <option value="context-desc">Context (Largest)</option>
                            <option value="context-asc">Context (Smallest)</option>
                            <option value="price">Prompt Price (Lowest)</option>
                        </select>
                        <input type="text" id="openrouter-vendor" placeholder="Filter provider..."
                            list="openrouter-vendor-options">
                        <datalist id="openrouter-vendor-options"></datalist>
                        <label class="legend-item" data-source="openrouter" style="cursor: pointer;">
                            <span class="legend-dot"></span>
                            <input type="checkbox" id="openrouter-media-toggle" style="margin-right: 6px;">
                            Image-capable only
                        </label>
                        <button class="refresh-btn" id="openrouter-refresh">Refresh Data</button>
                    </div>
                </div>
                <div class="loading" id="openrouter-models-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="openrouter-models-error" style="display: none;"></div>
                <div class="results-info" id="openrouter-models-results-info"></div>
                <div class="data-container" id="openrouter-models-data"></div>
            </section>

            <!-- Hype Section -->
            <section id="hype" class="content-section">
                <div class="section-header">
                    <h2>Hype Tracker</h2>
                    <div class="controls">
                        <select id="hype-sort" aria-label="Sort hype feed">
                            <option value="newest" selected>Newest</option>
                            <option value="top">Top Ranked</option>
                        </select>
                        <button class="refresh-btn" id="hype-refresh">Refresh Feed</button>
                    </div>
                </div>
                <p class="section-note">Pulse-check trending repositories and releases across GitHub, Hugging Face,
                    Replicate, and Reddit.</p>
                <div class="loading" id="hype-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="hype-error" style="display: none;"></div>
                <div class="results-info" id="hype-results-info" style="display:none;"></div>
                <div class="data-container" id="hype-data"></div>
            </section>

            <!-- Testing Catalog Section -->
            <section id="testing-catalog" class="content-section">
                <div class="section-header">
                    <h2>Testing Catalog</h2>
                    <div class="controls">
                        <select id="testing-catalog-tag-filter" aria-label="Filter Testing Catalog by tag">
                            <option value="__all" selected>All Tags</option>
                        </select>
                        <button class="refresh-btn" id="testing-catalog-refresh">Refresh Feed</button>
                    </div>
                </div>
                <p class="section-note">Fresh Android testing news sourced from TestingCatalog (updated daily).</p>
                <div class="loading" id="testing-catalog-loading">
                    <div class="loading-spinner"></div>
                </div>
                <div class="error" id="testing-catalog-error" style="display: none;"></div>
                <div class="results-info" id="testing-catalog-results-info" style="display:none;"></div>
                <div class="data-container" id="testing-catalog-data"></div>
            </section>

            <!-- Agent Section -->
            <section id="agent-exp" class="content-section">
                <div class="agent-iframe-container">
                    <iframe src="/static/agent.html" title="Agent"></iframe>
                </div>
            </section>

            <!-- About Section -->
            <section id="about" class="content-section">
                <div class="section-header">
                    <h2>About Adam Holter</h2>
                </div>
                <div class="about-layout">
                    <div class="about-primary">
                        <div class="about-intro">
                            <figure class="about-portrait">
                                <img src="https://v3b.fal.media/files/b/lion/YilDe98aGgKJu4VDe4bs-_b4617f81692b4ee2b14ebb7f7281b6fe.png"
                                    alt="Illustrated portrait of Adam Holter">
                            </figure>
                            <div class="about-text">
                                <h3 class="about-heading">Hi, I'm Adam Holter</h3>
                                <p class="about-subtitle">I'm co-founder and CTO of <a href="https://www.ironwoodai.com"
                                        target="_blank" rel="noopener noreferrer">Ironwood AI</a>.</p>
                                <p class="about-lede">
                                    This dashboard is meant to centralize the data sources I check all the time:
                                </p>
                                <ol class="about-source-list">
                                    <li>OpenRouter</li>
                                    <li>Replicate</li>
                                    <li>Fal.ai</li>
                                    <li>Artificial Analysis</li>
                                </ol>
                                <p class="about-lede">
                                    This way, I can access everything from one place and chat with that data through an
                                    agent that retrieves what it needs. I built the tool for myself, and now I'm making
                                    it publicâ€”if it brings you value, please consider supporting it.
                                </p>
                            </div>
                        </div>
                    </div>
                    <aside class="about-card">
                        <h4>Fuel the roadmap</h4>
                        <p>If this dashboard saves you time, a donation helps keep the data connections and updates
                            flowing.</p>
                        <a class="about-cta" href="https://buymeacoffee.com/adamholter" target="_blank"
                            rel="noopener noreferrer">
                            <span class="about-icon about-icon-invert">
                                <svg viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M5 9h9v5a3 3 0 01-3 3H8a3 3 0 01-3-3z" fill="none" stroke="currentColor"
                                        stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M14 11h2.8a2.2 2.2 0 010 4.4H14" fill="none" stroke="currentColor"
                                        stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M8 5.5c0-.8.6-1.1.6-1.9" fill="none" stroke="currentColor"
                                        stroke-width="1.6" stroke-linecap="round" />
                                    <path d="M11 5.5c0-.8.6-1.1.6-1.9" fill="none" stroke="currentColor"
                                        stroke-width="1.6" stroke-linecap="round" />
                                    <path d="M5 18.5h9.5" fill="none" stroke="currentColor" stroke-width="1.6"
                                        stroke-linecap="round" />
                                </svg>
                            </span>
                            <span>Buy Me a Coffee</span>
                        </a>
                    </aside>
                </div>
                <div class="about-links-grid">
                    <a class="about-link-tile" href="https://adam.holter.com" target="_blank" rel="noopener noreferrer">
                        <span class="about-icon">
                            <svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M5 4h14" fill="none" stroke="currentColor" stroke-width="1.6"
                                    stroke-linecap="round" />
                                <path d="M7 8h10" fill="none" stroke="currentColor" stroke-width="1.6"
                                    stroke-linecap="round" />
                                <path d="M7 12h6" fill="none" stroke="currentColor" stroke-width="1.6"
                                    stroke-linecap="round" />
                                <path d="M7 16h10" fill="none" stroke="currentColor" stroke-width="1.6"
                                    stroke-linecap="round" />
                                <path d="M5 20h14" fill="none" stroke="currentColor" stroke-width="1.6"
                                    stroke-linecap="round" />
                            </svg>
                        </span>
                        <span class="about-link-content">
                            <span class="about-link-title">Follow the AI news</span>
                            <span class="about-link-subtitle">Blog: adam.holter.com</span>
                        </span>
                    </a>
                    <a class="about-link-tile" href="https://www.linkedin.com/in/adam-holter-b5334327a/" target="_blank"
                        rel="noopener noreferrer">
                        <span class="about-icon">
                            <svg viewBox="0 0 24 24" aria-hidden="true">
                                <circle cx="7" cy="7" r="3" fill="none" stroke="currentColor" stroke-width="1.6" />
                                <path d="M4.5 20v-6.5A3.5 3.5 0 018 10h0a3.5 3.5 0 013.5 3.5V20" fill="none"
                                    stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
                                <path d="M16 11.5a3.5 3.5 0 013.5 3.5V20" fill="none" stroke="currentColor"
                                    stroke-width="1.6" stroke-linecap="round" />
                                <circle cx="16" cy="7" r="3" fill="none" stroke="currentColor" stroke-width="1.6" />
                            </svg>
                        </span>
                        <span class="about-link-content">
                            <span class="about-link-title">Connect and follow me on LinkedIn</span>
                            <span class="about-link-subtitle">linkedin.com/in/adam-holter-b5334327a</span>
                        </span>
                    </a>
                    <a class="about-link-tile" href="https://www.ironwoodai.com" target="_blank"
                        rel="noopener noreferrer">
                        <span class="about-icon about-icon-logo">
                            <img src="https://i.ibb.co/mrYS0RkJ/download-91.png" alt="Ironwood AI logo">
                        </span>
                        <span class="about-link-content">
                            <span class="about-link-title">Explore Ironwood AI</span>
                            <span class="about-link-subtitle">IronwoodAI.com</span>
                        </span>
                    </a>
                </div>
            </section>
        </main>
    </div>

    <!-- Settings button (hidden-away) -->
    <button id="settings-btn" class="settings-button" title="Settings" aria-label="Settings">
        <img src="static/gear-icon.png" alt="Settings" class="settings-icon" width="18" height="18" />
    </button>

    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <!-- Auth modal -->
    <div id="auth-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content" style="max-width:420px;">
            <div class="modal-header">
                <h2 id="auth-modal-title">Log In</h2>
                <button class="modal-close" id="auth-close">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="auth-form" autocomplete="off">
                    <label>Email
                        <input type="email" id="auth-email" autocomplete="off" required placeholder="you@example.com">
                    </label>
                    <label>Password
                        <input type="password" id="auth-password" autocomplete="off" required minlength="6"
                            placeholder="Enter password">
                    </label>
                    <div class="auth-actions">
                        <button type="submit" id="auth-submit">Log In</button>
                        <button type="button" class="link-btn" id="auth-mode-toggle">Need an account? Register</button>
                    </div>
                    <div class="auth-error" id="auth-error" role="alert"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Settings modal -->
    <div id="settings-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content" style="max-width:520px;">
            <div class="modal-header">
                <h2>Dashboard Settings</h2>
                <button class="modal-close" id="settings-close">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>AI Agent Configuration</h3>
                    <div class="form-row">
                        <label for="setting-available-models">Available Models in Agent</label>
                        <div class="model-dropdown-container">
                            <input id="setting-available-models" type="text"
                                placeholder="Search and select models for agent dropdown..." class="model-search-input"
                                autocomplete="off" />
                            <div class="model-dropdown" id="available-models-dropdown" style="display: none;"></div>
                            <div class="loading-indicator" id="available-models-loading" style="display: none;">Loading
                                models...</div>
                            <div class="selected-models" id="selected-available-models"></div>
                        </div>
                        <p class="help-text">Choose which models appear in the AI agent dropdown.</p>
                    </div>
                    <div class="form-row">
                        <label for="setting-speed-model">Speed Mode Model</label>
                        <div class="model-dropdown-container">
                            <input id="setting-speed-model" type="text" placeholder="Search models..."
                                class="model-search-input" autocomplete="off" />
                            <div class="model-dropdown" id="speed-model-dropdown" style="display: none;"></div>
                            <div class="loading-indicator" id="speed-model-loading" style="display: none;">Loading
                                models...</div>
                        </div>
                        <p class="help-text">Fast, lightweight model for speed mode option.</p>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Analysis Configuration</h3>
                    <div class="form-row">
                        <label for="setting-analysis-model">Model Analysis Model</label>
                        <div class="model-dropdown-container">
                            <input id="setting-analysis-model" type="text" placeholder="Search models..."
                                class="model-search-input" autocomplete="off" />
                            <div class="model-dropdown" id="analysis-model-dropdown" style="display: none;"></div>
                            <div class="loading-indicator" id="analysis-model-loading" style="display: none;">Loading
                                models...</div>
                        </div>
                        <p class="help-text">Model to use for detailed model analysis (double-click).</p>
                    </div>
                    <div class="form-row">
                        <label for="setting-fallback-models">Fallback Models</label>
                        <div class="model-dropdown-container">
                            <input id="setting-fallback-models" type="text"
                                placeholder="Search and select multiple models..." class="model-search-input"
                                autocomplete="off" />
                            <div class="model-dropdown" id="fallback-models-dropdown" style="display: none;"></div>
                            <div class="loading-indicator" id="fallback-models-loading" style="display: none;">Loading
                                models...</div>
                            <div class="selected-models" id="selected-fallback-models"></div>
                        </div>
                        <p class="help-text">Order of fallback models for agent requests.</p>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>API Access</h3>
                    <div class="form-row">
                        <label for="setting-openrouter-key">OpenRouter API Key</label>
                        <input id="setting-openrouter-key" type="password" class="model-search-input"
                            placeholder="sk-or-..." autocomplete="off">
                        <div class="api-key-actions">
                            <button type="button" class="chart-btn secondary" id="clear-openrouter-key">Remove
                                Key</button>
                            <span class="inline-note">Stored locally in your browser and required for AI Analysis &amp;
                                chat.</span>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Experimental Features</h3>
                    <div class="form-row toggle-row">
                        <label for="setting-experimental-mode">Enable Experimental Mode</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="setting-experimental-mode">
                            <span class="toggle-slider"></span>
                        </label>
                        <p class="help-text">Unlock in-progress tabs like Hype. Changes apply immediately after saving.
                        </p>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Filtering Defaults</h3>
                    <div class="form-row">
                        <label for="filter-model-id">Filter model ID</label>
                        <input id="filter-model-id" type="text"
                            placeholder="google/gemini-2.5-flash-lite-preview-09-2025" />
                        <p class="help-text">Default OpenRouter model used by the experimental filter.</p>
                    </div>
                    <div class="form-row">
                        <label for="filter-prompt-note">Filter prompt note</label>
                        <input id="filter-prompt-note" type="text" placeholder="Prioritize recency and impact" />
                        <p class="help-text">Appended to the system prompt to customize filtering behavior.</p>
                    </div>
                </div>

                <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:24px;">
                    <button class="chart-btn" id="settings-save">Save Settings</button>
                    <button class="chart-btn secondary" id="settings-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart Comparison Modal -->
    <div id="chart-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content" style="max-width:900px;">
            <div class="modal-header">
                <h2>Model Comparison Chart</h2>
                <button class="modal-close" id="chart-close">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="chart-controls" style="display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap;">
                    <select id="chart-type-select" style="padding:8px 12px;border-radius:8px;border:1px solid #e5e5e5;">
                        <option value="bar">Bar Chart</option>
                        <option value="radar">Radar Chart</option>
                        <option value="scatter">Scatter Plot</option>
                    </select>
                    <div id="chart-metrics-container" style="display:flex;gap:8px;flex-wrap:wrap;"></div>
                </div>
                <div id="chart-container" style="min-height:450px;background:#fafafa;border-radius:8px;"></div>
                <div id="chart-models-list" style="margin-top:12px;font-size:13px;color:#6b7280;"></div>
            </div>
        </div>
    </div>

    <!-- Compare Tray -->
    <div id="compare-tray" class="compare-tray" style="display:none;">
        <div class="compare-tray-content">
            <div id="compare-tray-items" class="compare-tray-items"></div>
            <div class="compare-tray-actions">
                <button id="compare-open" class="chart-btn">Compare</button>
                <button id="compare-clear" class="chart-btn secondary">Clear</button>
            </div>
        </div>
    </div>

    <!-- Compare Modal -->
    <div id="compare-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content" style="max-width:1100px;">
            <div class="modal-header">
                <h2>Compare Models</h2>
                <button class="modal-close" id="compare-close">Ã—</button>
            </div>
            <div class="modal-body">
                <div id="compare-table-container"></div>
            </div>
        </div>
    </div>

    <script src="static/script.js"></script>
</body>

</html>
